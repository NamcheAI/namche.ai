---
import Base from '../layouts/Base.astro';
import { loadSiteData, resolveSiteId } from '../lib/site-content';

const siteId = resolveSiteId();
const site = loadSiteData(siteId);
---

<Base title={site.title} description={site.description}>
  <section class="relative min-h-[70vh] py-16 md:py-24">
    <div class="max-w-3xl">
      <p class="mb-4 font-mono text-xs uppercase tracking-[0.14em] text-brand">{site.hero.eyebrow}</p>
      <h1 class="mb-4 text-4xl font-semibold tracking-tight text-ink md:text-6xl">{site.hero.headline}</h1>
      <p class="max-w-2xl text-lg leading-relaxed text-ink-muted md:text-xl">{site.hero.tagline}</p>
    </div>
  </section>

  {
    site.sections.map((section) => (
      <section class="py-10 md:py-14">
        <div class="section-label">{section.label}</div>

        {section.type === 'cards' && (
          <div class="mt-6 grid gap-4 md:grid-cols-3">
            {section.items.map((item) => (
              <article class="surface p-5">
                {item.title && <h2 class="mb-2 text-lg font-semibold text-ink">{item.title}</h2>}
                <p class="text-sm leading-relaxed text-ink-muted">{item.text}</p>
              </article>
            ))}
          </div>
        )}

        {section.type === 'list' && (
          <div class="mt-6 surface divide-y divide-line">
            {section.items.map((item) => (
              <div class="px-5 py-4 text-sm leading-relaxed text-ink-muted md:px-6">{item.text}</div>
            ))}
          </div>
        )}

        {section.type === 'text' && (
          <div class="mt-6 space-y-4 rounded-xl border border-line bg-panel/75 p-5 md:p-6">
            {section.items.map((item) => (
              <p class="text-sm leading-relaxed text-ink-muted">{item.text}</p>
            ))}
          </div>
        )}
      </section>
    ))
  }
</Base>
