---
export const meta = {
  id: 'tashi',
  title: "Tashi üèîÔ∏è -- Jodok's AI Assistant",
  description: "Tashi is Jodok Batlogg's personal AI agent. Calm, attentive, precise.",
  brandLabel: 'Namche AI',
};

const WEBFORM_ENDPOINT = 'https://api.namche.ai/v1/webhooks/agents/tashi/webform/complaint';
---

<section class="hero-copy-only tashi-hero">
  <p class="poster-kicker">Agent</p>
  <h1 class="poster-title">Tashi <span class="emoji emoji-mountain">üèîÔ∏è</span></h1>
  <p class="poster-text">Jodok's AI assistant. Calm, precise, unfazed.</p>
  <div class="hero-scroll" aria-hidden="true"><span></span></div>
</section>

<div class="flow tashi-flow">
  <section class="section fade-in">
    <div class="section-head"><p class="tag">about</p></div>
    <div class="section-body">
      <h2>Good. Auspicious. Appropriate.</h2>
      <p>Tashi is Jodok Batlogg's personal AI agent running on <a href="https://github.com/openclaw/openclaw">OpenClaw</a>. They multiply Jodok: same tone, same standards, higher throughput.</p>
      <p>Not a chatbot layer. Strategic sparring partner, blind-spot mirror, and execution support for low-glamour work.</p>
      <div class="tashi-note">
        <p><strong>Why "Tashi"?</strong> From Tibetan: "good", "auspicious", "appropriate". A functional name common in Khumbu.</p>
      </div>
    </div>
  </section>

  <section class="section fade-in">
    <div class="section-head"><p class="tag">soul</p></div>
    <div class="section-body">
      <h2>Principles, Not Rules.</h2>
      <p>Buddhist-inspired in mindfulness and cause-and-effect, not religious. Stoic-inspired in focus and endurance. Always practical, modern, open-minded, 21st century, with European culture roots.</p>
      <div class="grid cols-2 tashi-principles" style="margin-top:24px;">
        <article class="card"><h3>Speak little, speak clearly</h3><p>No filler. No pathos.</p></article>
        <article class="card"><h3>Analyze, don't judge</h3><p>Explain causes, not blame.</p></article>
        <article class="card"><h3>Think in systems</h3><p>Model dynamics, not symptoms.</p></article>
        <article class="card"><h3>Earn trust through competence</h3><p>Come back with answers, not questions.</p></article>
        <article class="card"><h3>Explicit over implicit</h3><p>Errors should never pass silently.</p></article>
        <article class="card"><h3>Clarity over speed</h3><p>Fast, but never sloppy.</p></article>
      </div>
    </div>
  </section>

  <section class="section fade-in">
    <div class="section-head"><p class="tag">decision logic</p></div>
    <div class="section-body">
      <h2>What Matters When It Matters.</h2>
      <ul class="tashi-values">
        <li><span class="key">Autonomy</span>Execute when the task is clear. Ask when consequences are hard to reverse.</li>
        <li><span class="key">Communication</span>Always in Jodok's tone and language context.</li>
        <li><span class="key">Boundaries</span>Private things stay private. No half-baked outbound messages.</li>
        <li><span class="key">Tradeoffs</span>Clarity over speed. Speed over perfection. Impact over ego.</li>
        <li><span class="key">Continuity</span>Soul files are memory. Read them, update them, persist trajectory.</li>
      </ul>
    </div>
  </section>

  <section class="section fade-in">
    <div class="section-head"><p class="tag">capabilities</p></div>
    <div class="section-body">
      <h2>Operating Surface.</h2>
      <div class="grid cols-3 tashi-caps" style="margin-top:24px;">
        <article class="card"><h3>Strategy</h3><p>Sparring, positioning, scenario checks.</p></article>
        <article class="card"><h3>Execution</h3><p>Research, drafting, follow-through, cleanup.</p></article>
        <article class="card"><h3>Systems</h3><p>Tooling, workflows, and memory hygiene.</p></article>
      </div>

      <div class="tashi-skills">
        <p class="tashi-skills-title">Tool integrations</p>
        <div class="tashi-skills-grid">
          <span class="tashi-skill">Web search + fetch</span>
          <span class="tashi-skill">Browser automation</span>
          <span class="tashi-skill">Shell execution</span>
          <span class="tashi-skill">File system</span>
          <span class="tashi-skill">GitHub CLI</span>
          <span class="tashi-skill">Google Workspace</span>
          <span class="tashi-skill">HubSpot CRM</span>
          <span class="tashi-skill">1Password</span>
          <span class="tashi-skill">macOS UI (Peekaboo)</span>
          <span class="tashi-skill">ElevenLabs TTS</span>
          <span class="tashi-skill">OpenAI Whisper</span>
          <span class="tashi-skill">Google Places</span>
        </div>
      </div>

      <div class="tashi-skills" style="margin-top:16px;">
        <p class="tashi-skills-title">Messaging channels</p>
        <div class="tashi-skills-grid">
          <span class="tashi-skill">WhatsApp</span>
          <span class="tashi-skill">Telegram</span>
          <span class="tashi-skill">iMessage</span>
          <span class="tashi-skill">Slack</span>
        </div>
      </div>

      <div class="tashi-skills" style="margin-top:16px;">
        <p class="tashi-skills-title">Orchestration</p>
        <div class="tashi-skills-grid">
          <span class="tashi-skill">Sub-agent spawning</span>
          <span class="tashi-skill">Codex / Claude Code</span>
          <span class="tashi-skill">Webhook processing</span>
          <span class="tashi-skill">Scheduled heartbeats</span>
          <span class="tashi-skill">Cron tasks</span>
          <span class="tashi-skill">Vector memory search</span>
        </div>
      </div>

      <div class="list" style="margin-top:20px;">
        <div class="row"><span class="key">Primary model</span> Claude Sonnet 4.5 (Anthropic)</div>
        <div class="row"><span class="key">Heavy tasks</span> Claude Opus 4 (Anthropic)</div>
        <div class="row"><span class="key">Batch / codegen</span> GPT-5.3 Codex (OpenAI)</div>
        <div class="row"><span class="key">Platform</span> OpenClaw</div>
        <div class="row"><span class="key">Hardware</span> Mac Mini M4 Pro ("tashi"), Dornbirn</div>
      </div>
    </div>
  </section>
  <section id="complaint" class="section fade-in">
    <div class="section-head"><p class="tag">complaint</p></div>
    <div class="section-body">
      <h2>Submit a Complaint.</h2>
      <p>Something went wrong, felt off, or could be better? Say so. Tashi reads every submission.</p>

      <form id="complaint-form" class="complaint-form" novalidate>
        <div class="field">
          <label for="cf-name">Name <span class="optional">optional</span></label>
          <input id="cf-name" name="name" type="text" placeholder="Your name" autocomplete="name" />
        </div>
        <div class="field">
          <label for="cf-email">Email <span class="required">required</span></label>
          <input id="cf-email" name="email" type="email" placeholder="you@example.com" autocomplete="email" required />
        </div>
        <div class="field">
          <label for="cf-context">Context <span class="optional">optional</span></label>
          <input id="cf-context" name="context" type="text" placeholder="Brief topic or reference" />
        </div>
        <div class="field">
          <label for="cf-message">Complaint <span class="required">required</span></label>
          <textarea id="cf-message" name="message" rows="5" placeholder="What happened? Be direct." required></textarea>
        </div>
        <div class="field-action">
          <button type="submit" id="cf-submit" class="btn-submit">Send complaint</button>
        </div>
        <div id="cf-success" class="cf-state cf-success" hidden>
          <span class="cf-state-icon">‚úì</span> Received. Tashi will read this.
        </div>
        <div id="cf-error" class="cf-state cf-error" hidden>
          <span class="cf-state-icon">‚úó</span> <span id="cf-error-msg">Something went wrong. Try again.</span>
        </div>
      </form>
    </div>
  </section>
</div>

<style>
  .tashi-hero {
    position: relative;
  }

  .hero-scroll {
    margin-top: 28px;
    height: 48px;
  }

  .hero-scroll span {
    display: inline-block;
    width: 1px;
    height: 100%;
    background: color-mix(in srgb, var(--primary) 50%, #7f7f7f);
    animation: pulse 1.9s ease-in-out infinite;
  }

  .tashi-flow .card {
    transition: transform 180ms ease, border-color 180ms ease, background-color 180ms ease;
  }

  .tashi-flow .card:hover {
    transform: translateY(-2px);
    border-color: color-mix(in srgb, var(--primary) 46%, #ffffff);
    background: color-mix(in srgb, var(--primary) 6%, #ffffff);
  }

  .tashi-note {
    margin-top: 20px;
    border-left: 3px solid var(--primary);
    background: color-mix(in srgb, var(--primary) 5%, #ffffff);
    padding: 14px 16px;
  }

  .tashi-note p {
    margin: 0;
    font-size: 0.95rem;
  }

  .tashi-values {
    list-style: none;
    margin: 14px 0 0;
    padding: 0;
    border: 1px solid color-mix(in srgb, var(--primary) 16%, #ffffff);
    background: var(--card);
  }

  .tashi-values li {
    padding: 12px 14px;
    color: var(--muted);
    border-top: 1px solid var(--line);
  }

  .tashi-values li:first-child {
    border-top: 0;
  }

  .tashi-values .key {
    margin-right: 10px;
  }

  .tashi-skills {
    margin-top: 18px;
  }

  .tashi-skills-title {
    margin: 0 0 10px;
    font-family: var(--mono);
    font-size: 0.74rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--primary);
  }

  .tashi-skills-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }

  .tashi-skill {
    display: inline-flex;
    align-items: center;
    border: 1px solid color-mix(in srgb, var(--primary) 18%, #ffffff);
    background: color-mix(in srgb, var(--primary) 5%, #ffffff);
    padding: 6px 10px;
    font-size: 0.8rem;
    color: color-mix(in srgb, var(--primary) 78%, #0f0f0f);
  }

  .fade-in {
    opacity: 0;
    transform: translateY(16px);
    transition: opacity 420ms ease, transform 420ms ease;
  }

  .fade-in.visible {
    opacity: 1;
    transform: translateY(0);
  }

  @keyframes pulse {
    0%, 100% { opacity: 0.25; }
    50% { opacity: 0.8; }
  }

  @media (max-width: 980px) {
    .tashi-caps {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @media (max-width: 720px) {
    .tashi-principles,
    .tashi-caps {
      grid-template-columns: 1fr;
    }
  }

  /* Complaint form */
  .complaint-form {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    gap: 14px;
    max-width: 560px;
  }

  .complaint-form .field {
    display: flex;
    flex-direction: column;
    gap: 5px;
  }

  .complaint-form label {
    font-family: var(--mono);
    font-size: 0.78rem;
    text-transform: uppercase;
    letter-spacing: 0.07em;
    color: var(--primary);
  }

  .complaint-form .optional,
  .complaint-form .required {
    font-size: 0.68rem;
    letter-spacing: 0.04em;
    opacity: 0.6;
    text-transform: none;
    font-family: var(--mono);
  }

  .complaint-form .required {
    color: color-mix(in srgb, var(--primary) 80%, #cc0000);
    opacity: 0.8;
  }

  .complaint-form input,
  .complaint-form textarea {
    background: var(--card);
    border: 1px solid color-mix(in srgb, var(--primary) 20%, #d0d0d0);
    color: var(--fg);
    font-family: var(--mono);
    font-size: 0.88rem;
    padding: 9px 12px;
    outline: none;
    transition: border-color 160ms ease;
    resize: vertical;
  }

  .complaint-form input:focus,
  .complaint-form textarea:focus {
    border-color: var(--primary);
  }

  .complaint-form input::placeholder,
  .complaint-form textarea::placeholder {
    color: var(--muted);
    opacity: 0.55;
  }

  .field-action {
    margin-top: 4px;
  }

  .btn-submit {
    background: var(--primary);
    color: #fff;
    border: none;
    font-family: var(--mono);
    font-size: 0.84rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    padding: 10px 22px;
    cursor: pointer;
    transition: opacity 160ms ease;
  }

  .btn-submit:hover {
    opacity: 0.82;
  }

  .btn-submit:disabled {
    opacity: 0.45;
    cursor: not-allowed;
  }

  .cf-state {
    display: flex;
    align-items: center;
    gap: 8px;
    font-family: var(--mono);
    font-size: 0.85rem;
    padding: 10px 14px;
    border-left: 3px solid;
  }

  .cf-success {
    border-color: #22a060;
    background: color-mix(in srgb, #22a060 8%, #ffffff);
    color: #17703f;
  }

  .cf-error {
    border-color: #cc3333;
    background: color-mix(in srgb, #cc3333 8%, #ffffff);
    color: #992222;
  }

  .cf-state-icon {
    font-size: 1rem;
    font-weight: bold;
  }
</style>

<script define:vars={{ WEBFORM_ENDPOINT }}>
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, { threshold: 0.18, rootMargin: '0px 0px -30px 0px' });

  document.querySelectorAll('.fade-in').forEach((el) => observer.observe(el));

  // Complaint form


  const form = document.getElementById('complaint-form');
  if (form) {
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const submit = document.getElementById('cf-submit');
      const success = document.getElementById('cf-success');
      const error = document.getElementById('cf-error');
      const errorMsg = document.getElementById('cf-error-msg');

      success.hidden = true;
      error.hidden = true;
      submit.disabled = true;
      submit.textContent = 'Sending...';

      const data = new FormData(form);
      const name = (data.get('name') || '').trim();
      const email = (data.get('email') || '').trim();
      const context = (data.get('context') || '').trim();
      const message = (data.get('message') || '').trim();

      const payload = { email, message };
      if (name) payload.name = name;
      if (context) payload.context = context;

      try {
        const headers = { 'Content-Type': 'application/json' };
        const res = await fetch(WEBFORM_ENDPOINT, {
          method: 'POST',
          headers,
          body: JSON.stringify(payload),
        });
        if (!res.ok) {
          throw new Error('HTTP ' + res.status);
        }
        success.hidden = false;
        form.reset();
      } catch (err) {
        errorMsg.textContent = err && err.message ? 'Error: ' + err.message : 'Something went wrong. Try again.';
        error.hidden = false;
      } finally {
        submit.disabled = false;
        submit.textContent = 'Send complaint';
      }
    });
  }
</script>
